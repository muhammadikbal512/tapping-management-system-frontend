<div class="container-transaction">
  <div class="grid-container mb-4 shadow-md">
    <div class="container-grid-header flex" style="justify-content: space-between;">
      <div class="button">
        <p-button (click)="onExport()" label="Export data as XLS" icon="pi pi-file-excel"></p-button>
        <p-button (click)="refreshTable()" class="ml-3" icon="pi pi-refresh">
        </p-button>
      </div>
      <div class="date flex flex-col">
        <p-calendar dateFormat="dd.mm.yy" [(ngModel)]="rangeDates" selectionMode="range" [readonlyInput]="true"
          inputId="range" [showIcon]="true"></p-calendar>
        <div class="button mt-3 space-x-3 mx-auto">
          <p-button class="p-button-sm" label="Search"></p-button>
          <p-button class="p-button-sm" label="Clear"></p-button>
        </div>
      </div>
      <div class="grid-header-right">
        <div class="search-transaction-container">
          <span class="search-icon-transaction bx bx-search">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24"
              stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </span>
          <input (input)="onFilterTextBoxChange()" id="search-filter" class="search-input" type="text"
            placeholder="Search">
        </div>
      </div>
    </div>

    <div class="p-4">
      <app-table></app-table>
      <div class="page-size-container">
        Page Size:
        <select (change)="onPageSizeChanged()" id="page-size">
          <option value="5" selected="">5</option>
          <option value="10">10</option>
          <option value="15">15</option>
          <option value="20">20</option>
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="100">100</option>
          <option value="500">500</option>
        </select>
      </div>
    </div>
  </div>
  <div class="grid-container">
    <div class="shadow-md sm:rounded-lg">
      <mat-tab-group>
        <mat-tab label="Transaction Summary" headerStyleClass="transaction-summary">
          <div class="transaction-summary-container">
            <div class="summary-left">
              <div class="summary-item">
                <span>Transaction Date</span>
                <input [value]="this.transactionTableService.additionalData?.transactionDate" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Network Date</span>
                <input [value]="this.transactionTableService.additionalData?.networkDate" readonly disabled>
              </div>
              <div class="summary-item">
                <span>MTI</span>
                <input [value]="this.transactionTableService.additionalData?.mti" readonly disabled>
              </div>
              <div class="summary-item">
                <span>HPAN</span>
                <input [value]="this.transactionTableService.additionalData?.hpan" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Terminal Id</span>
                <input [value]="this.transactionTableService.additionalData?.terminalId" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Merchant Id</span>
                <input [value]="this.transactionTableService.additionalData?.merchantId" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Merchant Type</span>
                <input [value]="this.transactionTableService.additionalData?.merchantType" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Country Code</span>
                <input [value]="this.transactionTableService.additionalData?.countryCode" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Amount</span>
                <input [value]="this.transactionTableService.additionalData?.amount" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Response Code</span>
                <input [value]="this.transactionTableService.additionalData?.responseCode" readonly disabled>
              </div>
            </div>
            <div class="summary-right">
              <div class="summary-item">
                <span>Transaction Id</span>
                <input [value]="this.transactionTableService.additionalData?.transactionId" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Network Id</span>
                <input [value]="this.transactionTableService.additionalData?.networkId" readonly disabled>
              </div>
              <div class="summary-item">
                <span>RRN</span>
                <input [value]="this.transactionTableService.additionalData?.rrn" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Src Account</span>
                <input [value]="this.transactionTableService.additionalData?.sourceAccount" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Dest Account</span>
                <input [value]="this.transactionTableService.additionalData?.destAccount" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Message Ascii</span>
                <input [value]="this.transactionTableService.additionalData?.messageAscii" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Message Hexa</span>
                <input [value]="this.transactionTableService.additionalData?.messageHexa" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Location</span>
                <input [value]="this.transactionTableService.additionalData?.location" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Sequence Number</span>
                <input [value]="this.transactionTableService.additionalData?.sequenceNumber" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Pos Data Code</span>
                <input [value]="this.transactionTableService.additionalData?.posDataCode" readonly disabled>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Event Collector">
          <div class="transaction-summary-container">
            <div class="summary-left">
              <div class="summary-item">
                <span>Dst Address</span>
                <input [value]="this.eventCollectorTableService.rowData[0].dstAddress" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Dst Port</span>
                <input [value]="this.eventCollectorTableService.rowData[0].dstPort" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Flag</span>
                <input [value]="this.eventCollectorTableService.rowData[0].flag" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Message Hexa</span>
                <input [value]="this.eventCollectorTableService.rowData[0].messageHexa" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Network ID</span>
                <input [value]="this.eventCollectorTableService.rowData[0].networkId" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Protocol</span>
                <input [value]="this.eventCollectorTableService.rowData[0].protocol" readonly disabled>
              </div>
            </div>
            <div class="summary-right">
              <div class="summary-item">
                <span>Type Message</span>
                <input [value]="this.eventCollectorTableService.rowData[0].typeMessage" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Src Address</span>
                <input [value]="this.eventCollectorTableService.rowData[0].srcAddress" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Src Port</span>
                <input [value]="this.eventCollectorTableService.rowData[0].srcPort" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Sequence Number</span>
                <input [value]="this.eventCollectorTableService.rowData[0].sequenceNumber" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Ack Number</span>
                <input [value]="this.eventCollectorTableService.rowData[0].ackNumber" readonly disabled>
              </div>
              <div class="summary-item">
                <span>Timestamp</span>
                <input [value]="this.eventCollectorTableService.rowData[0].timestamp" readonly disabled>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Transaction Flow">
          <app-transaction-flow-table></app-transaction-flow-table>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>