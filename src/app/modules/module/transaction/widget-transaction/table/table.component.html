<p-table #dt1 [columns]="cols" [value]="datasourceTransactions" dataKey="0"
  [paginator]="true" [rows]="5" [totalRecords]="totalRecords" [loading]="loading" scrollHeight="400px"
  selectionMode="single" (onRowSelect)="onRowSelect($event)" [scrollable]="true" styleClass="p-datatable-gridlines"
  [rowsPerPageOptions]="[5,10, 20, 25, 50]" [globalFilterFields]="['0','14', '13', '2']">
  <ng-template pTemplate="caption">
    <div class="flex justify-between">
      <div class="export-buttons">
        <button type="button" pButton pRipple icon="pi pi-file" (click)="dt1.exportCSV()" pTooltip="CSV"
          tooltipPosition="bottom" class="action-button"></button>
        <button type="button" pButton pRipple icon="pi pi-file-excel" (click)="exportExcel()" class="p-button-success action-button"
          pTooltip="XLS" tooltipPosition="bottom"></button>
        <!-- <p-button (click)="refreshTable()" icon="pi pi-refresh"></p-button> -->
      </div>
      <div class="search-buttons">
        <span class="p-input-icon-left ml-auto">
          <span class="search-icon-transaction bx bx-search">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24"
              stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </span>
          <input #textInput (input)="dt1.filterGlobal($any($event.target).value, 'contains')" id="search-filter"
            class="search-input" type="text" placeholder="Search">
        </span>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="0">
        <p-sortIcon></p-sortIcon>
        App Trans ID
      </th>
      <th pSortableColumn="14">
        <p-sortIcon field="14"></p-sortIcon>
        Src Address
      </th>
      <th pSortableColumn="13">
        <p-sortIcon field="13"></p-sortIcon>
        Dst Address
      </th>
      <th pSortableColumn="2">
        <p-sortIcon field="2"></p-sortIcon>
        Flag
      </th>
      <th pSortableColumn="typeMessage">
        <p-sortIcon field="typeMessage"></p-sortIcon>
        Type Message
      </th>
      <th pSortableColumn="status">
        <p-sortIcon field="status"></p-sortIcon>
        Status
      </th>
      <th pSortableColumn="incidentDetails">
        <p-sortIcon field="incidentDetails"></p-sortIcon>
        Incident Details
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-transactions let-rowIndex="rowIndex">
    <tr [pSelectableRow]="transactions" [ngClass]="{'row-odd': rowIndex % 2 == 0}">
      <td>
        {{transactions[0]}}
      </td>
      <td>
        {{transactions[14].replace('/', '')}}
      </td>
      <td>
        {{transactions[13].replace('/', '')}}
      </td>
      <td>
        {{transactions[2].replaceAll('|', ' - ')}}
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="6">There are no data.</td>
    </tr>
  </ng-template>
</p-table>